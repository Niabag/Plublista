<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Bonhomme qui saute — CSS</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #0f1226;
      --ground: #1b1f3a;
      --accent: #ff6b6b;
      --accent-2: #ffd166;
      --white: #ffffff;
      --shadow: 0 20px 60px rgba(0,0,0,.45);
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: 'Poppins', system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, 'Helvetica Neue', Arial, sans-serif;
      background: radial-gradient(1200px 600px at 70% -10%, #1c2149 0%, var(--bg) 60%) fixed;
      color: var(--white);
      display: grid;
      place-items: center;
      overflow: hidden;
    }

    .scene {
      position: relative;
      width: min(92vw, 980px);
      height: min(70vh, 540px);
      border-radius: 32px;
      background: linear-gradient(#1a1f43 0%, #0f1226 60%);
      box-shadow: var(--shadow);
      overflow: hidden;
      isolation: isolate;
    }

    /* Parallaxe décor */
    .stars {
      position: absolute; inset: 0; pointer-events: none;
      background:
        radial-gradient(2px 2px at 10% 30%, #ffffff88, transparent 65%),
        radial-gradient(2px 2px at 35% 60%, #ffffff88, transparent 65%),
        radial-gradient(2px 2px at 70% 20%, #ffffff88, transparent 65%),
        radial-gradient(2px 2px at 85% 75%, #ffffff88, transparent 65%),
        radial-gradient(1.5px 1.5px at 55% 40%, #ffffff66, transparent 65%),
        radial-gradient(1.5px 1.5px at 25% 80%, #ffffff66, transparent 65%);
      animation: twinkle 6s ease-in-out infinite;
      opacity: .7;
    }
    @keyframes twinkle { 50% { opacity: .95; transform: translateY(-3px); } }

    .moon {
      position: absolute; top: 6%; left: 8%; width: 90px; height: 90px;
      background: radial-gradient(circle at 35% 35%, #fff 0 30%, #e6e7ff 30% 60%, #cdd0ff 60% 100%);
      border-radius: 50%;
      box-shadow: 0 0 40px 5px #aab0ff55;
      filter: blur(.2px);
      z-index: 0;
      animation: float 8s ease-in-out infinite;
    }
    @keyframes float { 50% { transform: translateY(6px) translateX(2px); } }

    .mounts {
      position: absolute; bottom: 110px; left: 0; right: 0; height: 180px; z-index: 1;
      background:
        radial-gradient(600px 200px at 15% 100%, #2a3166 0 60%, transparent 61%),
        radial-gradient(800px 240px at 65% 100%, #232a59 0 60%, transparent 61%),
        radial-gradient(500px 180px at 95% 100%, #1d2450 0 60%, transparent 61%);
      transform: translateZ(0);
    }

    .ground {
      position: absolute; left: 0; right: 0; bottom: 0; height: 120px; z-index: 3;
      background: linear-gradient(#171a33, var(--ground));
      border-top: 2px solid #2b2f5a;
      display: grid; place-items: center;
    }

    .platform {
      --w: 380px; --h: 18px;
      position: relative; width: var(--w); height: var(--h);
      background: linear-gradient(90deg, #3b3f72, #4a4f8a);
      border-radius: 999px; outline: 1px solid #2c2f59;
      box-shadow: inset 0 2px 0 #6368a8, 0 14px 30px #0a0b173a;
    }

    .shadow {
      position: absolute; inset: auto 0 -8px 0; height: 16px;
      background: radial-gradient(50% 40% at 50% 30%, #0008, transparent 80%);
      filter: blur(2px);
    }

    /* Bonhomme (assemblage de formes) */
    .hero {
      position: absolute; left: 50%; bottom: 130px; transform: translateX(-50%);
      width: 120px; height: 180px; z-index: 2;
      animation: jump 1.4s cubic-bezier(.2,.7,.2,1) infinite;
    }

    .head {
      position: absolute; top: 0; left: 50%; transform: translateX(-50%);
      width: 70px; height: 70px; border-radius: 50%; background: #ffd6a1;
      box-shadow: inset 0 -6px #f7b56d;
    }
    .eye { position: absolute; top: 28px; width: 10px; height: 10px; background: #242424; border-radius: 50%; }
    .eye.left { left: calc(50% - 18px); }
    .eye.right { left: calc(50% + 8px); }
    .eye::after { content:""; position: absolute; top: 2px; left: 2px; width: 3px; height: 3px; background: #fff; border-radius: 50%; }

    .body {
      position: absolute; top: 60px; left: 50%; transform: translateX(-50%);
      width: 90px; height: 80px; border-radius: 40px 40px 30px 30px;
      background: linear-gradient(180deg, var(--accent) 0%, #e14962 100%);
      box-shadow: inset 0 -6px #bb2c47;
    }

    .arm {
      position: absolute; top: 70px; width: 18px; height: 60px; background: #ffd6a1; border-radius: 12px;
      transform-origin: top center; box-shadow: inset 0 -6px #f7b56d;
      animation: arms 1.4s ease-in-out infinite;
    }
    .arm.left { left: calc(50% - 52px); transform: rotate(14deg); }
    .arm.right { left: calc(50% + 34px); transform: rotate(-14deg); }

    .leg {
      position: absolute; top: 120px; width: 24px; height: 74px; background: #333a6d; border-radius: 12px;
      transform-origin: top center; box-shadow: inset 0 -8px #262c58;
      animation: legs 1.4s ease-in-out infinite;
    }
    .leg.left { left: calc(50% - 28px); }
    .leg.right { left: calc(50% + 4px); animation-delay: -.1s; }

    .shoe { position: absolute; bottom: -3px; left: -4px; right: -4px; height: 16px; background: #0c0e1a; border-radius: 16px; }

    .label {
      position: absolute; bottom: 12px; left: 50%; transform: translateX(-50%);
      padding: 10px 16px; border-radius: 999px; font-weight: 600; letter-spacing: .3px;
      background: linear-gradient(90deg, #4b50a3, #6a6fe6);
      box-shadow: 0 10px 30px #080a16aa;
    }

    /* Animations principales */
    @keyframes jump {
      0%   { transform: translateX(-50%) translateY(0) scale(1); }
      35%  { transform: translateX(-50%) translateY(-140px) scale(1.02); }
      50%  { transform: translateX(-50%) translateY(-150px) scale(1.02); }
      65%  { transform: translateX(-50%) translateY(-140px) scale(1.01); }
      100% { transform: translateX(-50%) translateY(0) scale(1); }
    }

    @keyframes arms {
      50% { transform: rotate(-14deg); }
    }

    @keyframes legs {
      50% { transform: translateY(-6px) rotate(6deg); }
    }

    /* Ombre dynamique sous la plateforme */
    .jump-shadow {
      position: absolute; left: 50%; bottom: 96px; transform: translateX(-50%);
      width: 160px; height: 26px; border-radius: 50%;
      background: radial-gradient(50% 50% at 50% 50%, #0008 0%, transparent 70%);
      filter: blur(5px);
      animation: squish 1.4s ease-in-out infinite;
      z-index: 0;
    }
    @keyframes squish {
      0%, 100% { transform: translateX(-50%) scaleX(1) scaleY(1); opacity: .6; }
      50%      { transform: translateX(-50%) scaleX(.6) scaleY(.7); opacity: .2; }
    }

    /* Bouton vitesse */
    .controls { position: absolute; top: 16px; right: 16px; z-index: 4; display: flex; gap: 10px; }
    .btn {
      border: none; padding: 10px 16px; border-radius: 999px; cursor: pointer; font-weight: 600;
      background: linear-gradient(90deg, #3f8cff, #a259ff); color: #fff; box-shadow: 0 8px 20px #0a0f2a88;
      transition: transform .2s ease, box-shadow .2s ease;
    }
    .btn:hover { transform: translateY(-2px); box-shadow: 0 12px 28px #0a0f2a99; }
  </style>
</head>
<body>
  <div class="scene" id="scene">
    <div class="stars"></div>
    <div class="moon"></div>
    <div class="mounts"></div>

    <div class="hero" id="hero">
      <div class="head">
        <span class="eye left"></span>
        <span class="eye right"></span>
      </div>
      <div class="body"></div>
      <div class="arm left"></div>
      <div class="arm right"></div>
      <div class="leg left"><div class="shoe"></div></div>
      <div class="leg right"><div class="shoe"></div></div>
    </div>

    <div class="ground">
      <div class="platform"></div>
      <div class="shadow"></div>
      <div class="label">Bonhomme qui saute</div>
    </div>

    <div class="jump-shadow"></div>

    <div class="controls">
      <button class="btn" data-speed="0.9">Vitesse ×1</button>
      <button class="btn" data-speed="0.6">Vitesse ×1.5</button>
      <button class="btn" data-speed="0.4">Vitesse ×2</button>
    </div>
  </div>

  <script>
    // Permet d'ajuster rapidement la vitesse d'animation
    const hero = document.getElementById('hero');
    const scene = document.getElementById('scene');
    const shadow = document.querySelector('.jump-shadow');
    const buttons = document.querySelectorAll('.btn');

    buttons.forEach(b => b.addEventListener('click', () => {
      const dur = parseFloat(b.dataset.speed);
      hero.style.animationDuration = `${1.4 * dur}s`;
      document.querySelectorAll('.arm, .leg, .jump-shadow').forEach(el => {
        el.style.animationDuration = `${1.4 * dur}s`;
      });
    }));

    // Petite interaction: clic pour un "boost" vertical
    scene.addEventListener('click', () => {
      hero.animate([
        { transform: 'translateX(-50%) translateY(-150px) scale(1.02)' },
        { transform: 'translateX(-50%) translateY(-210px) scale(1.04)' },
        { transform: 'translateX(-50%) translateY(-150px) scale(1.02)' }
      ], { duration: 400, easing: 'cubic-bezier(.2,.7,.2,1)' });
    });
  </script>
</body>
</html>
